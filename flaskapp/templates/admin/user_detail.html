{% extends "admin/base.html" %} {% block section %}
<section>
  <div
    class=" flex-1 bg-gray-100 mt-12 md:mt-2 pb-24 md:pb-5"
  >
  <div class="pt-3 w-full">
    <div
      class="rounded-tl-3xl p-4 shadow text-2xl flex justify-between w-full"
    >
      <h1 class="font-bold pl-2">Users </h1>
      <ul class="menu menu-horizontal bg-base-200">
        <li><a  href="{{ url_for('auth.create_provider')}}">Create User</a></li>
        <li><a href="{{ url_for('auth.create_role')}}">Create Roles</a></li>
        <li><a href="{{ url_for('auth.users')}}">Users</a></li>
        <li><a href="{{ url_for('auth.users')}}">Roles</a></li>
      </ul>
      
    </div>
    
  </div>

    <div class="w-full">
      <div class="relative overflow-x-auto p-12">
        <div class="flex py-3">
          <p class="w-1/3"> First Name </p>
          <p class="w-2/3"> {{ obj.first_name }} </p>
        </div>
        <div class="flex py-3">
          <p class="w-1/3"> Last Name </p>
          <p class="w-2/3"> {{ obj.last_name }} </p>
        </div>
        <div class="flex py-3">
          <p class="w-1/3">Email </p>
          <p class="w-2/3"> {{ obj.email }} </p>
        </div>
        <div class="flex py-3">
          <p class="w-1/3"> Date Joined </p>
          <p class="w-2/3"> {{ obj.date_created }} </p>
        </div>
        
        <div>
          <h3 class="text-xl text-center font-semi-bold mt-6">Assign Roles </h3>
          <form method="POST" action="{{ url_for('auth.assign_roles', id=obj.id)}}">
            
            <label for="roles" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select Roles</label>
            <select name="roles" multiple id="roles" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
              {% for role in roles %}
                <option {% if role in obj.roles %} selected {% endif %} value="{{role.id}}">{{ role.name }}</option>
              {% endfor %}
            </select>
            <div class="mt-3">
              <button class=" btn btn-outline btn-accent w-full ">Assign Roles</button>
            </div>
          </form>
        </div>
      </div>
    </div>     
    </div>
  </div>
</section>
{% endblock section %}
